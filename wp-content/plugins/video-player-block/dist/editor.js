!function(){"use strict";var e=function(){var e=wp.blocks,t=wp.i18n,n=wp.element,l=wp.blockEditor,r=wp.components,a=function(e){var t=e.mt,n=e.mb,l=e.children;return wp.element.createElement("p",{className:"bPlLabel",style:{marginTop:"".concat(t||"20px"),marginBottom:"".concat(n||"5px")}},l)},o={pxUnit:{value:"px",label:"px",default:0},perUnit:{value:"%",label:"%",default:0},emUnit:{value:"em",label:"em",default:0},remUnit:{value:"rem",label:"rem",default:0},vwUnit:{value:"vw",label:"vw",default:0},vhUnit:{value:"vh",label:"vh",default:0}};function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=o.pxUnit,p=o.perUnit,s=o.emUnit,m=function(e){var n=e.attributes,o=e.setAttributes,m=n.source,y=n.poster,f=n.controls,g=n.width,v=n.radius,w=n.repeat,b=n.autoplay,h=n.muted,_=n.resetOnEnd,C=n.autoHideControl,E=f.restart,P=f.rewind,k=f.play,T=f.progress,N=f.duration,O=f.mute,U=f.volume,j=f.pip,x=f.airplay,S=f.settings,A=f.download,B=f.fullscreen,M=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},f);n[e]=t,o({controls:n})};return wp.element.createElement(l.InspectorControls,null,wp.element.createElement(r.TabPanel,{className:"bPlTabPanel",activeClass:"activeTab",tabs:[{name:"settings",title:(0,t.__)("Settings","video-player")},{name:"controls",title:(0,t.__)("Controls","video-player")},{name:"style",title:(0,t.__)("Style","video-player")}]},(function(e){return wp.element.createElement(wp.element.Fragment,null,"settings"===e.name&&wp.element.createElement(r.PanelBody,{className:"bPlPanelBody"},wp.element.createElement(a,{mt:"0",mb:"0"}),wp.element.createElement(d,{value:m,type:["video"],onChange:function(e){return o({source:e})},placeholder:(0,t.__)("Video url","video-player")}),wp.element.createElement(d,{value:y,type:["image"],onChange:function(e){return o({poster:e})},placeholder:(0,t.__)("Poster url","video-player")}),wp.element.createElement(r.ToggleControl,{className:"mt20",label:(0,t.__)("Repeat","video-player"),checked:w,onChange:function(e){return o({repeat:e})}}),wp.element.createElement(r.ToggleControl,{className:"mt20",label:(0,t.__)("Autoplay","video-player"),checked:b,onChange:function(e){return o({autoplay:e})}}),wp.element.createElement(r.ToggleControl,{className:"mt20",label:(0,t.__)("Muted","video-player"),checked:h,onChange:function(e){return o({muted:e})}}),wp.element.createElement(r.ToggleControl,{className:"mt20",label:(0,t.__)("Reset On End","video-player"),checked:_,onChange:function(e){return o({resetOnEnd:e})}}),wp.element.createElement(r.ToggleControl,{className:"mt20",label:(0,t.__)("Auto Hide Control","video-player"),checked:C,onChange:function(e){return o({autoHideControl:e})}})),"controls"===e.name&&wp.element.createElement(r.PanelBody,{className:"bPlPanelBody"},wp.element.createElement(r.ToggleControl,{label:(0,t.__)("Play Large","video-player"),checked:f["play-large"],onChange:function(e){return M("play-large",e)}}),wp.element.createElement(r.ToggleControl,{className:"mt20",label:(0,t.__)("Restart","video-player"),checked:E,onChange:function(e){return M("restart",e)}}),wp.element.createElement(r.ToggleControl,{className:"mt20",label:(0,t.__)("Rewind","video-player"),checked:P,onChange:function(e){return M("rewind",e)}}),wp.element.createElement(r.ToggleControl,{className:"mt20",label:(0,t.__)("Play","video-player"),checked:k,onChange:function(e){return M("play",e)}}),wp.element.createElement(r.ToggleControl,{className:"mt20",label:(0,t.__)("Fast Forward","video-player"),checked:f["fast-forward"],onChange:function(e){return M("fast-forward",e)}}),wp.element.createElement(r.ToggleControl,{className:"mt20",label:(0,t.__)("Progress","video-player"),checked:T,onChange:function(e){return M("progress",e)}}),wp.element.createElement(r.ToggleControl,{className:"mt20",label:(0,t.__)("Current Time","video-player"),checked:f["current-time"],onChange:function(e){return M("current-time",e)}}),wp.element.createElement(r.ToggleControl,{className:"mt20",label:(0,t.__)("Duration","video-player"),checked:N,onChange:function(e){return M("duration",e)}}),wp.element.createElement(r.ToggleControl,{className:"mt20",label:(0,t.__)("Mute","video-player"),checked:O,onChange:function(e){return M("mute",e)}}),wp.element.createElement(r.ToggleControl,{className:"mt20",label:(0,t.__)("Volume","video-player"),checked:U,onChange:function(e){return M("volume",e)}}),wp.element.createElement(r.ToggleControl,{className:"mt20",label:(0,t.__)("PIP","video-player"),checked:j,onChange:function(e){return M("pip",e)}}),wp.element.createElement(r.ToggleControl,{className:"mt20",label:(0,t.__)("Airplay","video-player"),checked:x,onChange:function(e){return M("airplay",e)}}),wp.element.createElement(r.ToggleControl,{className:"mt20",label:(0,t.__)("Settings","video-player"),checked:S,onChange:function(e){return M("settings",e)}}),wp.element.createElement(r.ToggleControl,{className:"mt20",label:(0,t.__)("Download","video-player"),checked:A,onChange:function(e){return M("download",e)}}),wp.element.createElement(r.ToggleControl,{className:"mt20",label:(0,t.__)("Fullscreen","video-player"),checked:B,onChange:function(e){return M("fullscreen",e)}})),"style"===e.name&&wp.element.createElement(r.PanelBody,{className:"bPlPanelBody"},wp.element.createElement(r.__experimentalUnitControl,{label:(0,t.__)("Width:","video-player"),labelPosition:"left",value:g,onChange:function(e){return o({width:e})},units:[u,s,p]}),wp.element.createElement(r.__experimentalUnitControl,{className:"mt20",label:(0,t.__)("Round Corner:","video-player"),labelPosition:"left",value:v,onChange:function(e){return o({radius:e})},units:[u]})))})))},d=function(e){var t=e.value,n=e.type,a=void 0===n?[]:n,o=e.onChange,i=e.placeholder;return wp.element.createElement(r.PanelRow,{className:"vpbMediaUpload"},wp.element.createElement(r.TextControl,{value:t,onChange:function(e){return o(e)},placeholder:i}),wp.element.createElement(l.MediaUploadCheck,null,wp.element.createElement(l.MediaUpload,{allowedTypes:a,onSelect:function(e){return o(e.url)},render:function(e){var t=e.open;return wp.element.createElement(r.Button,{className:"button button-primary",onClick:t,icon:"upload"})}})))};function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var l,r,a=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(l=n.next()).done)&&(a.push(l.value),!t||a.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw r}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}var g=function(e){var a=e.className,o=e.attributes,i=o.source,c=o.poster,u=o.controls,p=o.width,s=o.radius,d=o.repeat,f=o.muted,g=o.autoHideControl,v=e.setAttributes,w=e.clientId;(0,n.useEffect)((function(){w&&v({clientId:w})}),[w]);var b=y((0,n.useState)(),2),h=b[0],_=b[1],C=(0,n.useRef)(null),E=(0,n.useRef)(null),P=function(e){var t=[];return Object.keys(e).map((function(n){e[n]&&t.push(n)})),t};(0,n.useEffect)((function(){i&&(C.current.innerHTML="",C.current.innerHTML=E.current.outerHTML,new Plyr(C.current.children[0],{controls:P(u),clickToPlay:!1,loop:{active:d},muted:f,hideControls:g}))}),[i,c,u,C]);return i?wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(m,{attributes:e.attributes,setAttributes:v,clientId:w}),wp.element.createElement("div",{className:a,id:"vpbVideoPlayer-".concat(w)},wp.element.createElement("style",{dangerouslySetInnerHTML:{__html:"\n                    #vpbVideoPlayer-".concat(w," .vpbVideoPlayer{\n                        width: ").concat("0px"===p||"0%"===p||"0em"===p?"100%":p,";\n                        border-radius: ").concat(s,";\n                    }\n                ")}}),wp.element.createElement("div",{className:"vpbVideoPlayer"},wp.element.createElement("div",{className:"videoWrapper",ref:C}),wp.element.createElement("video",{controls:!0,playsinline:!0,"data-poster":c,preload:"metadata",ref:E},"Your browser does not support the video tag.",wp.element.createElement("source",{src:i,type:"video/mp4"}))))):wp.element.createElement(r.Placeholder,{label:(0,t.__)("Upload a Video ","video-player"),className:"vpbVideoPlaceholder",instructions:(0,t.__)("Upload a video or paste/write video url to get started.","video-player"),icon:wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",className:"html5-block-icon",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},wp.element.createElement("polygon",{points:"23 7 16 12 23 17 23 7"}),wp.element.createElement("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"}))},wp.element.createElement(l.MediaUploadCheck,null,wp.element.createElement(l.MediaUpload,{allowedTypes:["video"],onSelect:function(e){return v({source:e.url})},render:function(e){var n=e.open;return wp.element.createElement(r.Button,{isPrimary:!0,onClick:n}," ",(0,t.__)("Upload","video-player")," ")}})),wp.element.createElement(r.PanelRow,{className:"vpbUrlInput"},wp.element.createElement("h3",null," Or "),wp.element.createElement("input",{type:"url","aria-label":(0,t.__)("URL","video-player"),placeholder:(0,t.__)("Paste or type a video URL","video-player"),onChange:function(e){return _(e.target.value)},value:h}),wp.element.createElement(r.Button,{label:(0,t.__)("Apply","video-player"),type:"submit",onClick:function(e){e.preventDefault(),v({source:h}),_("")},isPrimary:!0},"Apply")))},v=JSON.parse('{"apiVersion":"1","name":"vpb/video","title":"Video Player","description":"A Simple, accessible, Easy to Use & fully Customizable video player.","icon":"video-alt2","category":"media","keywords":["video embed","mp4 ogg player","any video play"],"textdomain":"video-player","attributes":{"align":{"type":"string","default":""},"clientId":{"type":"string","default":""},"source":{"type":"string","default":""},"poster":{"type":"string","default":""},"controls":{"type":"object","default":{"play-large":true,"restart":false,"rewind":true,"play":true,"fast-forward":true,"progress":true,"current-time":true,"duration":false,"mute":true,"volume":true,"pip":false,"airplay":false,"settings":true,"download":false,"fullscreen":true}},"width":{"type":"string","default":"100%"},"radius":{"type":"string","default":"0px"},"repeat":{"type":"boolean","default":false},"autoplay":{"type":"boolean","default":false},"muted":{"type":"boolean","default":false},"resetOnEnd":{"type":"boolean","default":false},"autoHideControl":{"type":"boolean","default":true}},"supports":{"align":["wide","full"],"html":false},"example":{"attributes":{"preview":true,"sourceType":"link"}},"editorScript":"file:dist/editor.js","script":"file:dist/script.js"}');(0,e.registerBlockType)(v,{edit:g,save:function(){return null}})};e()}();
//# sourceMappingURL=editor.js.map